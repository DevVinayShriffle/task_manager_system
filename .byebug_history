c
c\
c
n
flash[:error]
c
flash[:error]
c
flash[:error]
flash[:error].present?
c
[200~flash[:error].present?flash[:error].present?flash[:error].present?c
flash[:error]
c
n
c
n
c
n
c
JWT.decode(token, SECRET_KEY)
SECRET_KEY
token
decoded
n
c
n
decoded
n
c
Time.current > @decoded[:exp]
Time.current
@decoded[:exp] < Time.current
@decoded[:exp] < hours.from_now.to_i
@decoded[:exp] < from_now.to_i
@decoded[:exp] < 24.hours.from_now.to_i
24.hours.from_now.to_i
24.hours.from_now
Time.now
@decoded[:exp]
@decoded
c
n
@task.update!(task_params)
task
params
task_params
c
n
c
n
if @current_user.update!(password: params[:user][:password])
params[:user][:password]
password: params[:user][:password]
n
password: params[:user][:password]
c
decoded
n
c
@decoded
n
c
:token
token
n
token
message
puts(:message)
n
c
n
c
message
params[:token]
:token
n
instance_options[:message]
:token
:message
n
params
:message
c
n
@current_user
n
@decoded
n
c
 JWT.decode(token, SECRET_KEY)
JWT.decode(token, SECRET_KEY)[0]
 JWT.decode(token, SECRET_KEY)[0]
decoded
n
SECRET_KEY
token
n
c
JsonWebToken.decode(header)
n
header
n
c
n
@decoded
decoded
n
header
n
c
n
c
n
 header.present?
c
n
n\
n
return nil unless header
n
return nil unless header.present?
 header.present?
header
n
c
n
header.present?
c
n
header
c
@user
params[:user][:email].strip.downcase
params[:user][:email]
n
c
params[:user][:email]
@user
n
c
params
@user.tasks.find(params[:id])
params[:id]
c
n
c
n
header
c
user
n
c
User.where(email: "tester@gmail.com")
User.find_by!("tester@gmail.com")
User.find_by!(email: "tester@gmail.com")
User.find_by(email: "tester@gmail.com")
User.all
User.find_by(email: params[:user][:email].strip.downcase)
c
n
c
n
c
User.find_by(email: params[:user][:email].strip.downcase)
params[:user][:email].strip.downcase
n
User.find_by(email: params[:user][:email].strip.downcase)
c
n
@user
User.find_by(email: params[:user][:email].strip.downcase)
@user
params[:user][:email].strip.downcase
params[:user][:email]
n
c
params[:user][:email]
params[:user]
params[:users]
params
@user
email: params[:user][:email]
n
c
User.find(params[:user_id].to_i)
c
 User.find(params[:user_id].to_i)
c
User.find(params[:user_id])
c
n
params
c
params[:user_id]
params
c
@current_user.id
params[:id]
n
c
@current_user.id != params[:id]
@current_user.id
params[:id]
n
c
params[:user][:password]
c
params
c
n
user
n
User.find_by(id: params[:id])
params[:id]
c
User.find_by(params[:id])
params[:id]
n
c
response.headers['Authorization']
n
c
token
@user.email
email
token: token
token
n
c
token
n
token
c
token
n
token
c
token
token: token
n
c
render json: {token: token, exp: time("%m-%d-%Y %H:%M"), email: @user.email}
n
c
time
n
c
token
n
token
c
n
token
n
time
