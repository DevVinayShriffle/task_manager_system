c
delete :logout
expect(session[:token]).to be_nil
c
expect(session[:token]).to be_nil
n
session[:token]
sesson[:token]
token
c
flash[:error]
n
c
n
c
errors[0].split(': ')[1]
errors[0].split(': ')
errors[0].split(' ')
errors[0]
errors[0].include?('email')
errors
error
n
N
c
flashc
errors
error
n
c
flash[:error].split(',')
flash[:error].split(',').include?('email')
flash[:error].split(',').include('email')
flash[:error].split(',')
flash[:error]
c
flash[:error].split(':')
flash[:error]
c
n
flash[:error]
n
c
flash[:error]
c
flash[:error].split(':')
flash[:error].split(',')
flash[:error].split(,)
flash[:error].type
n
c
flash[:error]["error"]
flash[:error]["message"]
flash[:error].message
flash[:error]
flash[:error][:message]
n
c
n
c
error
n
c
n
error
n
error
flash[:error]
c
flash[:error][:message]
flash[:error]
c
c\
c
n
flash[:error]
c
flash[:error]
c
flash[:error]
flash[:error].present?
c
[200~flash[:error].present?flash[:error].present?flash[:error].present?c
flash[:error]
c
n
c
n
c
n
c
JWT.decode(token, SECRET_KEY)
SECRET_KEY
token
decoded
n
c
n
decoded
n
c
Time.current > @decoded[:exp]
Time.current
@decoded[:exp] < Time.current
@decoded[:exp] < hours.from_now.to_i
@decoded[:exp] < from_now.to_i
@decoded[:exp] < 24.hours.from_now.to_i
24.hours.from_now.to_i
24.hours.from_now
Time.now
@decoded[:exp]
@decoded
c
n
@task.update!(task_params)
task
params
task_params
c
n
c
n
if @current_user.update!(password: params[:user][:password])
params[:user][:password]
password: params[:user][:password]
n
password: params[:user][:password]
c
decoded
n
c
@decoded
n
c
:token
token
n
token
message
puts(:message)
n
c
n
c
message
params[:token]
:token
n
instance_options[:message]
:token
:message
n
params
:message
c
n
@current_user
n
@decoded
n
c
 JWT.decode(token, SECRET_KEY)
JWT.decode(token, SECRET_KEY)[0]
 JWT.decode(token, SECRET_KEY)[0]
decoded
n
SECRET_KEY
token
n
c
JsonWebToken.decode(header)
n
header
n
c
n
@decoded
decoded
n
header
n
c
n
c
n
 header.present?
c
n
n\
n
return nil unless header
n
return nil unless header.present?
 header.present?
header
n
c
n
header.present?
c
n
header
c
@user
params[:user][:email].strip.downcase
params[:user][:email]
n
c
params[:user][:email]
@user
n
c
params
@user.tasks.find(params[:id])
params[:id]
c
n
c
n
header
c
user
n
c
User.where(email: "tester@gmail.com")
User.find_by!("tester@gmail.com")
User.find_by!(email: "tester@gmail.com")
User.find_by(email: "tester@gmail.com")
User.all
User.find_by(email: params[:user][:email].strip.downcase)
c
n
c
n
c
User.find_by(email: params[:user][:email].strip.downcase)
params[:user][:email].strip.downcase
n
User.find_by(email: params[:user][:email].strip.downcase)
c
n
@user
User.find_by(email: params[:user][:email].strip.downcase)
@user
params[:user][:email].strip.downcase
params[:user][:email]
n
c
params[:user][:email]
params[:user]
params[:users]
params
@user
email: params[:user][:email]
n
c
